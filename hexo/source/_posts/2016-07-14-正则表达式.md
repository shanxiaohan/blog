---
layout: post
title: '正则表达式'
date: 2016-07-14
tags: [Regular-Expression]
---

### 一、基本正则字符匹配

- . 匹配任意单个字符（除换行符）  
- \* 匹配任意几个字符（包括0个） 
- ？匹配0个或一个字符  
- \+ 表示至少一个字符   
- {n} 表示n个字符  
- {n, m} 表示n~m个字符  
- \d 匹配一个数字  
- \w 匹配一个数字、字母、下划线或汉字  
- \b 单词的开始或结尾（单词的分界）
- \s 任意空白符（包括空格、Tab、换行符）
- ^ 字符串开始的位置（或行首）
- $ 字符串结束的位置（或行尾）  
- [aeiou] 可匹配字符放在[]中（元字符在中括号中不需要转义）  


### 二、demo

> 1. 匹配带区号的电话号码

```javascript
    ^0\d{2}-\d{8}$          // 注意加上^和$，否则是字符串包含即可，不是只有数字匹配
```

`-`不是`元字符`，不用转义   
`(`和`)`是`元字符`，需要转义

> 匹配多种格式的电话号码，如(010)88886666，或022-22334455，或02912345678等。  

#### 分析：  
前三位区号必须以0开头，可以加括号也可以加-，中间也可以有空格  

##### DEMO1  
```javascript
    \(?0\d{2}[) -]?\d{8}
```

`问题`  
可能匹配到只有半边括号的情况，改进可以用`条件分支 | `，分为有()和没有()的情况：  
```javascript
    \(0\d{2}\)[- ]?\d{8}|0\d{2}[- ]?\d{8}      // 条件分支从左到右测试，至匹配，停止
```

> 2、IP地址  

#### 分组  
用()指定子表达式(分组)，后面可指定分组的重复次数。  

#### IP地址DEMO1  
```javascript
    (\d{1,3}\.){3}\d{1,3}      // ()内为一个分组，重复三次，3为数字和一个小数点
```

#### DEMO2：IP地址每个数字都不能超过255  
```javascript
    ((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)
```




